<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Aviator — Simple Demo</title>
<style>
  :root{--bg1:#0b1b4f;--bg2:#3264aa;--btn:#2d7dff;--cash:#2ecc71}
  html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(var(--bg1),var(--bg2));color:#fff}
  .wrap{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:18px;padding:28px 16px;height:100%}
  h1{font-size:20px;margin:8px 0 2px}
  #mult{font-size:56px;font-weight:800;letter-spacing:1px}
  #plane{font-size:48px;transition:transform 0.06s linear}
  .controls{width:100%;display:flex;gap:12px}
  button{flex:1;padding:16px;border-radius:12px;border:none;font-size:18px;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,0.25)}
  #start{background:var(--btn);color:#fff}
  #cash{background:var(--cash);color:#045b1a}
  .small{font-size:12px;opacity:0.9}
  footer{margin-top:auto;font-size:12px;opacity:0.9}
</style>
</head>
<body>
<div class="wrap">
  <h1>Aviator — простий демо</h1>
  <div id="mult">x1.00</div>
  <div id="plane">✈️</div>
  <div class="controls" style="width:100%;max-width:560px;">
    <button id="start">START</button>
    <button id="cash" disabled>—</button>
  </div>
  <div class="small">Натисни START → під час зростання натисни CASHOUT, щоб зберегти множник</div>
  <footer>Щоб встановити: Скачай цей файл → Відкрий у Safari → Поділитися → "На екран «Додому»"</footer>
</div>
<script>
(() =>{
  const multEl = document.getElementById('mult');
  const plane = document.getElementById('plane');
  const btnStart = document.getElementById('start');
  const btnCash = document.getElementById('cash');

  let running = false;
  let mult = 1;
  let crash = 2;
  let rate = 0.0012;
  let startTime = 0;

  function newRound(){
    mult = 1;
    multEl.textContent = 'x1.00';
    crash = Math.max(1, -Math.log(Math.random()) * 1.8);
    const dur = 1200 + Math.random()*4200; // ms
    rate = Math.log(crash)/dur;
    plane.style.transform = 'translateY(0px)';
  }

  function tick(ts){
    if(!running) return;
    const elapsed = ts - startTime;
    mult = Math.exp(rate * elapsed);
    multEl.textContent = 'x' + mult.toFixed(2);
    plane.style.transform = 'translateY(' + (-Math.log(mult)*36) + 'px)';
    if(mult >= crash){
      // crashed
      running = false;
      multEl.textContent = 'CRASH x' + crash.toFixed(2);
      btnStart.textContent = 'START';
      btnStart.disabled = false;
      btnCash.disabled = true;
      return;
    }
    requestAnimationFrame(tick);
  }

  btnStart.addEventListener('click', ()=>{
    if(running) return;
    newRound();
    running = true;
    startTime = performance.now();
    btnStart.textContent = 'RUNNING';
    btnStart.disabled = true;
    btnCash.disabled = false;
    requestAnimationFrame(tick);
  });

  btnCash.addEventListener('click', ()=>{
    if(!running) return;
    running = false;
    multEl.textContent = 'WIN x' + mult.toFixed(2);
    btnStart.textContent = 'START';
    btnStart.disabled = false;
    btnCash.disabled = true;
  });

  // init
  newRound();
  // Make buttons large for mobile tap
  btnStart.style.minHeight = '56px';
  btnCash.style.minHeight = '56px';
})();
</script>
</body>
</html>
